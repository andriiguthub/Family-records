{% extends "layout.html" %}

{% block title %}
    Add
{% endblock %}

{% block main %}
    {% if action %}
    <form action="/{{ action }}" method="post">
        <input type="hidden" name="origin_person_id" value="{{ origin_person_id }}">
        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="name">Name</label>
                <input autofocus type="text" class="form-control" id="name" name="name" placeholder="name" type="text" autocomplete="given-name">
            </div>
            <div class="form-group col-md-4">
                <label for="lastname">Lastname</label>
                <input type="text" class="form-control" name="lastname" id="lastname" placeholder="lastname" type="text" autocomplete="family-name">
            </div>
            <div class="form-group col-md-auto">
                <label for="sex">Sex</label>
                <select class="form-select" name="sex" id="sex" required='required'>
                    <option value="" disabled selected>Select sex</option>
                    <option class="man" value="male">male</option>
                    <option class="woman" value="female">female</option>
                </select>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-auto">
                <label for="birth_date">Birth date</label>
                <input class="form-control" name="birth_date" id="birth_date" placeholder="birth_date" type="date">
            </div>
            <div class="form-group col-6">
                <label for="birth_place">Birth place</label>
                <input class="form-control" name="birth_place" id="birth_place" placeholder="birth_place" type="text">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-auto">
                <label for="death_date">Death date</label>
                <input class="form-control" name="death_date" id="death_date" placeholder="death_date" type="date">
            </div>
            <div class="form-group col-6">
                <label for="death_place">Death place</label>
                <input class="form-control" name="death_place" id="death_place" placeholder="death_place" type="text">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-auto">
                <label for="father_id">Father</label>
                <select class="form-select" name="father_id" id="father_id">
                    {% if father %}
                    <option value="{{ father.id }}" selected>{{ father.name }} {{ father.lastname }} ({{ father.birth_date }})</option>
                    {% else %}
                    <option value="" selected>Select father</option>
                    {% for id in man %}
                        <option value="{{ id.id }}">{{ id.name }} {{ id.lastname }} ({{ id.birth_date }})</option>
                    {% endfor %}
                    {% endif %}
                </select>
            </div>
            <div class="form-group col-md-auto">
                <label for="mother_id">Mother</label>
                <select class="form-select" name="mother_id" id="mother_id">
                    {% if mother %}
                    <option value="{{ mother.id }}" selected>{{ mother.name }} {{ mother.lastname }} ({{ mother.birth_date }})</option>
                    {% else %}
                    <option value="" selected>Select mother</option>
                    {% for id in woman %}
                        <option value="{{ id.id }}">{{ id.name }} {{ id.lastname }} ({{ id.birth_date }})</option>
                    {% endfor %}
                    {% endif %}
                </select>
            </div>
        </div>
        <button class="btn btn-primary" type="submit">Add</button>
    </form>
    {% endif %}
{% endblock %}
